{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["import iziToast from \"izitoast\"\nimport \"izitoast/dist/css/iziToast.min.css\"\nexport async function getImages(inputValue) {\n    const BUS_URL = 'https://pixabay.com';\n    const END_POINT = '/api';\n    const params = new URLSearchParams({\n        key: '44654317-b43c54b885daf7a418bb31fe3',\n        q: inputValue,\n        image_type: 'photo',\n        orientation: 'horizontal',\n        safesearch: true,\n    });\n    const url = `${BUS_URL}${END_POINT}?{params}`;\n    return fetch(url, {params})\n        .then(res => res.json())\n        .catch(err => {\n            iziToast.error({\n                title: 'Error',\n                message: `${err}`,\n                layout: 2,\n                displayMode: 'once',\n                backgroundColor: '#ef4040',\n                progressBarColor: '#B51B1B',\n                position: 'topRight'\n\n            });\n        });\n}","\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport { getImages } from './js/pixabay-api';\n\nexport const refs = {\n    form: document.querySelector('.form'),\n    input: document.querySelector('.input'),\n    button: document.querySelector('button'),\n    gallery: document.querySelector('.gallery'),\n    loader: document.querySelector('.loader'),\n};\nrefs.form.addEventListener('submit', e => {\n    e.preventDefault();\n    const inputValue = e.target.elements.text.value.trim();\n    if (inputValue === '') { \n        refs.gallery.innerHTML = ' ';\n        iziToast.warning({\n            title: 'Warning',\n            message: 'Please, enter the query',\n            layout: 2,\n            displayMode: 'once',\n            backgroundColor: '#ef4040',\n            position:'topRight',\n        });\n        return;\n    }\n\n    showLoader();\n    refs.gallery.innerHTML = ' ';\n    getImages(inputValue)\n    .then(data => {\n        if(data.hits.length === 0) {\n            iziToast.error({\n                message: \"Sorry, there are no images matching your search query. Please try again!\",\n                layout: 2,\n                displayMode: 'once',\n                backgroundColor: '#ef4040',\n                progressBarColor: '#B51B1B',\n                position:'topRight',\n            });\n            hideLoader();\n            refs.form.reset();\n            return;\n        }\n        hideLoader();\n        refs.form.reset();\n        imagesTemplate(data.hits);\n    })\n    .catch(err => {\n        iziToast.error({\n            title: 'Error',\n            message: '${err}',\n            layout: 2,\n            displayMode: 'once',\n            backgroundColor: '#ef4040',\n            progressBarColor: '#B51B1B',\n            position:'topRight',   \n        });\n    });\n});"],"names":["getImages","inputValue","BUS_URL","END_POINT","params","url","res","err","iziToast","refs","e","data"],"mappings":"svBAEO,eAAeA,EAAUC,EAAY,CACxC,MAAMC,EAAU,sBACVC,EAAY,OACZC,EAAS,IAAI,gBAAgB,CAC/B,IAAK,qCACL,EAAGH,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EACpB,CAAK,EACKI,EAAM,GAAGH,CAAO,GAAGC,CAAS,YAClC,OAAO,MAAME,EAAK,CAAC,OAAAD,CAAM,CAAC,EACrB,KAAKE,GAAOA,EAAI,MAAM,EACtB,MAAMC,GAAO,CACVC,EAAS,MAAM,CACX,MAAO,QACP,QAAS,GAAGD,CAAG,GACf,OAAQ,EACR,YAAa,OACb,gBAAiB,UACjB,iBAAkB,UAClB,SAAU,UAE1B,CAAa,CACb,CAAS,CACT,CCtBO,MAAME,EAAO,CAChB,KAAM,SAAS,cAAc,OAAO,EACpC,MAAO,SAAS,cAAc,QAAQ,EACtC,OAAQ,SAAS,cAAc,QAAQ,EACvC,QAAS,SAAS,cAAc,UAAU,EAC1C,OAAQ,SAAS,cAAc,SAAS,CAC5C,EACAA,EAAK,KAAK,iBAAiB,SAAUC,GAAK,CACtCA,EAAE,eAAc,EAChB,MAAMT,EAAaS,EAAE,OAAO,SAAS,KAAK,MAAM,OAChD,GAAIT,IAAe,GAAI,CACnBQ,EAAK,QAAQ,UAAY,IACzBD,EAAS,QAAQ,CACb,MAAO,UACP,QAAS,0BACT,OAAQ,EACR,YAAa,OACb,gBAAiB,UACjB,SAAS,UACrB,CAAS,EACD,MACH,CAED,aACAC,EAAK,QAAQ,UAAY,IACzBT,EAAUC,CAAU,EACnB,KAAKU,GAAQ,CACV,GAAGA,EAAK,KAAK,SAAW,EAAG,CACvBH,EAAS,MAAM,CACX,QAAS,2EACT,OAAQ,EACR,YAAa,OACb,gBAAiB,UACjB,iBAAkB,UAClB,SAAS,UACzB,CAAa,EACD,aACAC,EAAK,KAAK,QACV,MACH,CACD,aACAA,EAAK,KAAK,QACV,eAAeE,EAAK,IAAI,CAChC,CAAK,EACA,MAAMJ,GAAO,CACVC,EAAS,MAAM,CACX,MAAO,QACP,QAAS,SACT,OAAQ,EACR,YAAa,OACb,gBAAiB,UACjB,iBAAkB,UAClB,SAAS,UACrB,CAAS,CACT,CAAK,CACL,CAAC"}