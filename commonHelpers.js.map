{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import iziToast from \"izitoast\"\nimport \"izitoast/dist/css/iziToast.min.css\"\n\n\nexport  function getImages(inputValue) {\n    const BASE_URL = 'https://pixabay.com';\n    const END_POINT = '/api/';\n    const params = new URLSearchParams({\n        key: '44654317-b43c54b885daf7a418bb31fe3',\n        q: inputValue,\n        image_type: 'photo',\n        orientation: 'horizontal',\n        safesearch: true,\n    });\n    const url = `${BASE_URL}${END_POINT}?${params}`;\n    return fetch(url)\n        .then(data => data.json())\n        .catch(err => {\n            iziToast.error({\n                title: 'Error',\n                message: `${err}`,\n                layout: 2,\n                displayMode: 'once',\n                backgroundColor: '#ef4040',\n                progressBarColor: '#B51B1B',\n                position: 'topRight'\n\n            });\n        });\n}","// Встановлення бібліотеки через npm install simplelightbox\n\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\n// import { refs } from '../main';\n//  const lightbox = new SimpleLightbox('.gallery li', {\n//         captions: true,\n//         captionsData: 'alt',\n//         captionsDelay: 250,\n\n//     })\n// imageObject - це масив об'єктів з властивостями зображень, які отримані з API.\nexport const refs = {\n    form: document.querySelector('.form'),\n    input: document.querySelector('.input'),\n    button: document.querySelector('button'),\n    gallery: document.querySelector('.gallery'),\n    loader: document.querySelector('.loader'),\n};\nexport function imagesTemplate(imagesObj) {\n    const markup = imagesObj.map(image => {\n            return `<li class=\"gallery-item\">\n        <a class=\"gallery-link\"\n        href=\"${image.largeImageURL}\">\n        <image \n        width=360;\n        height=200;\n         class=\"gallery-image\"\n        src=\"${image.webformatURL}\"\n        alt=\"${image.tags}\"/>\n        </a>\n        <div class=\"gallery-card-container\">\n        <p> <strong>Likes:</strong> ${image.likes}</p>\n        <p> <strong>Views:</strong> ${image.views}</p>\n        <p> <strong>Comments:</strong> ${image.comments}</p>\n        <p> <strong>Downloads:</strong> ${image.downloads}</p>\n        </div>\n        </li>`;\n    \n        })\n        .join('');\n    refs.gallery.innerHtml = markup;\n    // refs.gallery.innerHtml = markup;\n    // lightbox.refresh();\n}\n\n// export function showLoader() {\n//     refs.loader.classList.remove('hidden');\n// }\n// export function hideLoader() {\n//     refs.loader.classList.add('hidden');\n// }\n// export function formReset() {\n//     refs.formSearch.reset();\n// }\n    \n\n","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport { getImages } from './js/pixabay-api';\nimport { imagesTemplate} from './js/render-functions';\n\n const lightbox = new SimpleLightbox('.gallery li', {\n        captions: true,\n        captionsData: 'alt',\n        captionsDelay: 250,\n\n })\n    lightbox.refresh();\nexport const refs = {\n    form: document.querySelector('.form'),\n    input: document.querySelector('.input'),\n    button: document.querySelector('button'),\n    gallery: document.querySelector('.gallery'),\n    loader: document.querySelector('.loader'),\n};\n\nrefs.form.addEventListener('submit', e => {\n    // Зупиняє стандартну поведінку форми, щоб сторінка не перезавантажувалась\n    e.preventDefault();\n    // Отримує значення введеного тексту з поля форми\n    const inputValue = refs.input.value.trim();\n    // Перевіряє, чи введено значення\n    if (inputValue === '') { \n        // Очищає вміст галереї\n        refs.gallery.innerHTML = ' ';\n        iziToast.warning({\n            title: 'Warning',\n            message: 'Please, enter the query',\n            layout: 2,\n            displayMode: 'once',\n            backgroundColor: '#ef4040',\n            position:'topRight',\n        });\n        // Завершує обробку події\n           return;\n    }\n        // Показує завантажувач\n    showLoader();\n        // Очищає вміст галереї перед завантаженням нових зображень\n    refs.gallery.innerHTML = ' ';\n     // Викликаємо функцію, яка отримує зображення з API\n    getImages(inputValue)\n        .then(data => {\n        // Перевіряємо, чи є отримані зображення\n        if(data.hits.length === 0) {\n            iziToast.error({\n                message: \"Sorry, there are no images matching your search query. Please try again!\",\n                layout: 2,\n                displayMode: 'once',\n                backgroundColor: '#ef4040',\n                progressBarColor: '#B51B1B',\n                position:'topRight',\n            });\n            //  ховає завантажувач після завершення отримання зображень.\n            hideLoader();\n            formReset();\n            return;\n        }\n        hideLoader();\n        formReset();\n        imagesTemplate(data.hits);\n        })\n        //  обробляється помилка під час отримання зображень з API, яка виводить повідомлення про помилку\n    .catch(err => {\n        iziToast.error({\n            title: 'Error',\n            message: `${err}`,\n            layout: 2,\n            displayMode: 'once',\n            backgroundColor: '#ef4040',\n            progressBarColor: '#B51B1B',\n            position:'topRight',   \n        });\n    });\n});\n// refs.gallery.innerHtml = markup;\n\n \nexport function showLoader() {\n    refs.loader.classList.remove('hidden');\n}\nexport function hideLoader() {\n    refs.loader.classList.add('hidden');\n}\nexport function formReset() {\n    refs.formSearch.reset();\n}\n"],"names":["getImages","inputValue","BASE_URL","END_POINT","params","url","data","err","iziToast","refs","imagesTemplate","imagesObj","markup","image","lightbox","SimpleLightbox","e","showLoader","hideLoader","formReset"],"mappings":"6vBAIQ,SAASA,EAAUC,EAAY,CACnC,MAAMC,EAAW,sBACXC,EAAY,QACZC,EAAS,IAAI,gBAAgB,CAC/B,IAAK,qCACL,EAAGH,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EACpB,CAAK,EACKI,EAAM,GAAGH,CAAQ,GAAGC,CAAS,IAAIC,CAAM,GAC7C,OAAO,MAAMC,CAAG,EACX,KAAKC,GAAQA,EAAK,MAAM,EACxB,MAAMC,GAAO,CACVC,EAAS,MAAM,CACX,MAAO,QACP,QAAS,GAAGD,CAAG,GACf,OAAQ,EACR,YAAa,OACb,gBAAiB,UACjB,iBAAkB,UAClB,SAAU,UAE1B,CAAa,CACb,CAAS,CACT,CChBO,MAAME,EAAO,CAChB,KAAM,SAAS,cAAc,OAAO,EACpC,MAAO,SAAS,cAAc,QAAQ,EACtC,OAAQ,SAAS,cAAc,QAAQ,EACvC,QAAS,SAAS,cAAc,UAAU,EAC1C,OAAQ,SAAS,cAAc,SAAS,CAC5C,EACO,SAASC,EAAeC,EAAW,CACtC,MAAMC,EAASD,EAAU,IAAIE,GACd;AAAA;AAAA,gBAEHA,EAAM,aAAa;AAAA;AAAA;AAAA;AAAA;AAAA,eAKpBA,EAAM,YAAY;AAAA,eAClBA,EAAM,IAAI;AAAA;AAAA;AAAA,sCAGaA,EAAM,KAAK;AAAA,sCACXA,EAAM,KAAK;AAAA,yCACRA,EAAM,QAAQ;AAAA,0CACbA,EAAM,SAAS;AAAA;AAAA,cAIhD,EACA,KAAK,EAAE,EACZJ,EAAK,QAAQ,UAAYG,CAG7B,CCtCC,MAAME,EAAW,IAAIC,EAAe,cAAe,CAC5C,SAAU,GACV,aAAc,MACd,cAAe,GAEvB,CAAE,EACED,EAAS,QAAO,EACb,MAAML,EAAO,CAChB,KAAM,SAAS,cAAc,OAAO,EACpC,MAAO,SAAS,cAAc,QAAQ,EACtC,OAAQ,SAAS,cAAc,QAAQ,EACvC,QAAS,SAAS,cAAc,UAAU,EAC1C,OAAQ,SAAS,cAAc,SAAS,CAC5C,EAEAA,EAAK,KAAK,iBAAiB,SAAUO,GAAK,CAEtCA,EAAE,eAAc,EAEhB,MAAMf,EAAaQ,EAAK,MAAM,MAAM,KAAI,EAExC,GAAIR,IAAe,GAAI,CAEnBQ,EAAK,QAAQ,UAAY,IACzBD,EAAS,QAAQ,CACb,MAAO,UACP,QAAS,0BACT,OAAQ,EACR,YAAa,OACb,gBAAiB,UACjB,SAAS,UACrB,CAAS,EAEE,MACN,CAEDS,IAEAR,EAAK,QAAQ,UAAY,IAEzBT,EAAUC,CAAU,EACf,KAAKK,GAAQ,CAEd,GAAGA,EAAK,KAAK,SAAW,EAAG,CACvBE,EAAS,MAAM,CACX,QAAS,2EACT,OAAQ,EACR,YAAa,OACb,gBAAiB,UACjB,iBAAkB,UAClB,SAAS,UACzB,CAAa,EAEDU,IACAC,IACA,MACH,CACDD,IACAC,IACAT,EAAeJ,EAAK,IAAI,CAChC,CAAS,EAEJ,MAAMC,GAAO,CACVC,EAAS,MAAM,CACX,MAAO,QACP,QAAS,GAAGD,CAAG,GACf,OAAQ,EACR,YAAa,OACb,gBAAiB,UACjB,iBAAkB,UAClB,SAAS,UACrB,CAAS,CACT,CAAK,CACL,CAAC,EAIM,SAASU,GAAa,CACzBR,EAAK,OAAO,UAAU,OAAO,QAAQ,CACzC,CACO,SAASS,GAAa,CACzBT,EAAK,OAAO,UAAU,IAAI,QAAQ,CACtC,CACO,SAASU,GAAY,CACxBV,EAAK,WAAW,OACpB"}